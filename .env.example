# Exchange Configuration
EXCHANGE=coinbase  # coinbase or binance
SYMBOL=BTC-USD
MODE=backtest  # backtest, paper, live

# Exchange API Keys (Coinbase Advanced)
COINBASE_API_KEY=your_api_key_here
COINBASE_API_SECRET=your_api_secret_here

# Exchange API Keys (Binance)
BINANCE_API_KEY=your_api_key_here
BINANCE_API_SECRET=your_api_secret_here

# Strategy Parameters
BUY_THRESHOLD_PCT=5.0  # % drop to trigger buy
SELL_THRESHOLD_PCT=5.0  # % rise to trigger sell
MIN_SWING_PCT=2.0  # Minimum swing threshold
MAX_SWING_PCT=8.0  # Maximum swing threshold
ADAPTIVE_THRESHOLDS=true  # Auto-adjust based on volatility
TIERED_ENTRY=false  # Use tiered entry (split into tranches)
NUM_TRANCHES=5  # Number of tranches for tiered entry
RESERVE_PCT=8.0  # % of capital to keep in reserve

# Risk Management
MAX_DRAWDOWN_PCT=20.0  # Max drawdown before circuit breaker
MAX_CONSECUTIVE_LOSSES=5  # Max consecutive losses before pause
DAILY_LOSS_LIMIT_PCT=10.0  # Daily loss limit
MIN_ACTIVITY_PCT=2.0  # Min ATR% to keep trading
MAX_ACTIVITY_PCT=10.0  # Max ATR% before pause
MAX_SPREAD_BPS=10  # Max spread in basis points
MAX_WS_STALE_SECONDS=5  # Max websocket staleness

# Execution
MAKER_FIRST=true  # Try maker orders first
TAKER_SLIPPAGE_BPS=10  # Expected taker slippage
MIN_NOTIONAL_USD=10.0  # Minimum trade notional
ORDER_TIMEOUT_SECONDS=30  # Limit order timeout before fallback

# Fees (per exchange, can be overridden)
MAKER_FEE_PCT=0.10  # 10 bps
TAKER_FEE_PCT=0.30  # 30 bps

# Volatility Calculation
ATR_PERIOD=14  # ATR period
ATR_TIMEFRAME_SHORT=1m  # Short timeframe for ATR
ATR_TIMEFRAME_LONG=15m  # Long timeframe for ATR

# Trend Filter (optional)
USE_TREND_FILTER=false  # Enable MA trend filter
MA_SHORT=50  # Short MA period
MA_LONG=200  # Long MA period

# Database
DATABASE_URL=postgresql://volharvester:volharvester@localhost:5432/volharvester

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
LOG_FORMAT=json  # json or text

# Metrics
METRICS_PORT=9090
ENABLE_METRICS=true

# Scheduler
BACKTEST_CRON=0 2 * * *  # Daily at 2 AM
REPORT_EMAIL=your_email@example.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_smtp_password

# Application
API_HOST=0.0.0.0
API_PORT=8000
